//CATEGORYFILTER.JS
// src/components/CategoryFilter.js
import React, { useContext } from 'react';
import { ProductContext } from './ProductContext';

const CategoryFilter = () => {
  const { categories, setSelectedCategory } = useContext(ProductContext);

  return (
    <div>
      <h3>Filter by Category</h3>
      <select onChange={(e) => setSelectedCategory(e.target.value)}>
        <option value="">All Categories</option>
        {categories.map((category, index) => (
          <option key={index} value={category}>{category}</option>
        ))}
      </select>
    </div>
  );
};

export default CategoryFilter;
//HOME.JS
// src/components/Home.js
import React from 'react';

const Home = () => {
  return (
    <div>
      <h1>Welcome to the Product Store</h1>
      <p>Explore products from various categories and filter by price.</p>
    </div>
  );
};

export default Home;
//NAVBAR.JS
// src/components/Navbar.js
import React from 'react';
import { Link } from 'react-router-dom';

const Navbar = () => {
  return (
    <nav>
      <h2>Product Store</h2>
      <ul>
        <li><Link to="/">Home</Link></li>
        <li><Link to="/categories">Categories</Link></li>
        <li><Link to="/products">Products</Link></li>
      </ul>
    </nav>
  );
};

export default Navbar;
//PRICEFILTER.JS
// src/components/PriceFilter.js
import React, { useContext } from 'react';
import { ProductContext } from './ProductContext';

const PriceFilter = () => {
  const { priceRange, setPriceRange } = useContext(ProductContext);

  return (
    <div>
      <h3>Filter by Price</h3>
      <input
        type="range"
        min="0"
        max="1000"
        value={priceRange[1]}
        onChange={(e) => setPriceRange([0, Number(e.target.value)])}
      />
      <p>Up to ${priceRange[1]}</p>
    </div>
  );
};

export default PriceFilter;
PRODUCTCONTEXT.JS
// src/context/ProductContext.js
import React, { createContext, useState, useEffect } from 'react';

export const ProductContext = createContext();

const ProductProvider = ({ children }) => {
  const [categories, setCategories] = useState([]);
  const [products, setProducts] = useState([]);
  const [selectedCategory, setSelectedCategory] = useState('');
  const [priceRange, setPriceRange] = useState([0, 100]);

  // Fetch categories and products from a mock API
  useEffect(() => {
    const fetchCategories = async () => {
      const categoriesData = ['Electronics', 'Clothing', 'Accessories', 'Home Appliances'];
      setCategories(categoriesData);
    };
    
    const fetchProducts = async () => {
      const productsData = [
        { id: 1, name: 'Laptop', category: 'Electronics', price: 900 },
        { id: 2, name: 'Shirt', category: 'Clothing', price: 30 },
        { id: 3, name: 'Headphones', category: 'Accessories', price: 100 },
        { id: 4, name: 'Microwave', category: 'Home Appliances', price: 150 }
      ];
      setProducts(productsData);
    };

    fetchCategories();
    fetchProducts();
  }, []);

  return (
    <ProductContext.Provider value={{
      categories,
      products,
      selectedCategory,
      setSelectedCategory,
      priceRange,
      setPriceRange
    }}>
      {children}
    </ProductContext.Provider>
  );
};

export default ProductProvider; // <-- Make sure this export statement is present
//PRODUCTLIST.JS
// src/components/ProductList.js
import React, { useContext } from 'react';
import { ProductContext } from './ProductContext';

const ProductList = () => {
  const { products, selectedCategory, priceRange } = useContext(ProductContext);

  const filteredProducts = products.filter(product => {
    return (
      (selectedCategory === '' || product.category === selectedCategory) &&
      product.price <= priceRange[1]
    );
  });

  return (
    <div>
      <h3>Product List</h3>
      <ul>
        {filteredProducts.map(product => (
          <li key={product.id}>
            {product.name} - {product.category} - ${product.price}
          </li>
        ))}
      </ul>
    </div>
  );
};

export default ProductList;
//PRODUCTLISTCOMPONENT.JS
import React from 'react';
const ProductListComponent=({productList})=>
{
return(
    <ul>
        {productList.map((product)=>(
            <li key={product.id}>
                <div>{product.name}</div>
                <img src={`/${product.imageUrl}`} alt={product.name}style={{width:'100px',height:'auto'}}/>
                <div>${product.price.toFixed(2)}</div>
            </li>
        ))}
    </ul>
)
}
export default ProductListComponent;
//WITHPRODUCTLIST.JS
import React from 'react';
export const WithProductList=(WrapperComponent,productList)=>
{
   return ()=><WrapperComponent productList={productList}/>;
};
